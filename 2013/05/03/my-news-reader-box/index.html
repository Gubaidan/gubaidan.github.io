<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="花有重开日，人无再少年">
    <meta name="keyword" content="前端,js,jquery,javascript,html5,开发者,程序猿编程,代码,开源,Developer,Programmer,Coder,html,css,css3,用户体验">
    <meta name="theme-color" content="#600090">
    <meta name="msapplication-navbutton-color" content="#600090">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="#600090">
    <link rel="shortcut icon" href="http://p9n2j0ewi.bkt.clouddn.com/img/favicon.ico">
    <link rel="alternate" type="application/atom+xml" title="Gubaidan" href="/atom.xml">

    <title>
        
        网易“聚合阅读”布局的实现｜Gubaidan&#39;s blog
        
    </title>

    <link rel="canonical" href="http://www.gubaidan.top/2013/05/03/my-news-reader-box/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/blog-style.css">
    <link rel="stylesheet" href="/css/font-awesome.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css">
    <script type="text/javascript"
 		src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
		MathJax.Hub.Config({
	    extensions: ["tex2jax.js","TeX/noErrors.js","TeX/AMSsymbols.js"],
	    jax: ["input/TeX","output/HTML-CSS"],
	    tex2jax: {
	      inlineMath: [['$','$'],["\\(","\\)"]],
	      displayMath: [['\\[','\\]'], ['$$','$$']],
	      balanceBraces: true
	      
	    },
	    TeX: {equationNumbers: {autoNumber: ["AMS"], useLabelIds: true}},
	    "HTML-CSS": {availableFonts:["TeX"]},
	  });
	</script>

</head>

<style>

    header.intro-header {
        background-image: url('http://p9n2j0ewi.bkt.clouddn.com/blogimg/water.jpg')
    }
</style>
<!-- hack iOS CSS :active style -->
<body ontouchstart="" class="animated fadeIn">
<!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top " id="nav-top" data-ispost = "true" data-istags="false
" data-ishome = "false" >
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand animated pulse" href="/">
                <span class="brand-logo">
                    Gubaidan
                </span>
                's Blog
            </a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <!-- /.navbar-collapse -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>
					
                    
                        
							
                        <li>
                            <a href="/tags/">tags</a>
                        </li>
							
						
                    
                        
							
                        <li>
                            <a href="/archive/">archive</a>
                        </li>
							
						
                    
					
					
                </ul>
            </div>
        </div>
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
//    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>

<!-- Main Content -->

<!--only post-->


<img class="wechat-title-img"
     src="http://p9n2j0ewi.bkt.clouddn.com/Header/water.jpg">


<style>
    
    header.intro-header {
        background-image: url('http://p9n2j0ewi.bkt.clouddn.com/Header/water.jpg')
    }

    
</style>

<header class="intro-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 text-center">
                <div class="post-heading">
                    <h1>网易“聚合阅读”布局的实现</h1>
                    
                    <span class="meta">
                         作者 Gubaidan
                        <span>
                          日期 2013-05-03
                         </span>
                    </span>
                    <div class="tags text-center">
                        
                        <a class="tag" href="/tags/#js"
                           title="js">js</a>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="post-title-haojen">
        <span>
            网易“聚合阅读”布局的实现
        </span>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <!-- Post Container -->
            <div class="col-lg-8 col-lg-offset-1 col-sm-9 post-container">
                <p><img src="/assets/blogImg/myReader0.jpg" alt="聚合阅读">   </p>
<p>网易<a href="http://news.tag.163.com/" target="_blank" rel="noopener">聚合阅读</a>的出现的确让人惊艳了一下。流畅的交互,使碎片化的新闻资讯像报纸一样摊在眼前,这是信息大爆炸的时代产物。不管你能不能接受这种新阅读形式，事实上，每天越来越多的新闻层出不穷，还没被人看到就已成为了“旧闻”。回归报纸的版面设计，堆叠新闻模块，让用户告别一条接一条整齐的新闻链接，而是在一个版面上提供更多的信息，不失为一种尝试。</p>
<p>而抛去产品的层面，从前端方向来看，“聚合阅读”也有许多值得学习的地方。这几天研究了一下源码，谈谈它随机布局的实现，以及一些优化的措施。</p>
<p>##<strong>demo</strong></p>
<p>点击按钮可以改变布局：<br><a id="more"></a></p>
<iframe id="demoIframe" src="/assets/demo/my_news_reader/index.html" width="600" height="420" scrolling="no"></iframe>

<p>##<strong>一.怎样定义格子对象</strong></p>
<p>每个格子对象，都至少应该有这5个属性：   </p>
<ul>
<li>left：距离左边界的位置         </li>
<li>top：距离上边界的位置           </li>
<li>width：格子宽度             </li>
<li>height：格子高度            </li>
<li>background：格子颜色        </li>
</ul>
<p>逐个去定义对象无疑是愚蠢的：<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Block</span>(<span class="params">o</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span>&#123;</span><br><span class="line">		left: o.left,</span><br><span class="line">		top: o.top,</span><br><span class="line">		width: o.width,</span><br><span class="line">		height: o.height,</span><br><span class="line">		bg: o.bg</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> block1 = <span class="keyword">new</span> Block(&#123;</span><br><span class="line">	left: <span class="number">0</span>,</span><br><span class="line">	top: <span class="number">0</span>,</span><br><span class="line">	width: <span class="number">50</span>,</span><br><span class="line">	height: <span class="number">50</span>,</span><br><span class="line">	bg: <span class="string">"#3f3"</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">var</span> block2 = …</span><br><span class="line">…</span><br><span class="line"><span class="keyword">var</span> block37 = …</span><br></pre></td></tr></table></figure></p>
<p>这样不仅不利于后期维护，而且构造格子的嵌套关系也相对麻烦。</p>
<p>网易的做法是使用“交替切割”的方式来做：         </p>
<ol>
<li>将大块先切成两列。         </li>
<li>左列（红色部分）再切成三行，右列（褐，黄，蓝部分）也切成三行。</li>
<li>对形成的6个小块，再进行列的切割</li>
</ol>
<p>整个做法就是“列-行-列-行-……”这样的交替切割。所以它的对象是这样设置的,其中random属性可以约定同级的cols或rows是否可以随机变换位置，width和height的值是规定一个父级块的分割比例。其设置的形式例如（例子与demo的设定无关）：<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">window</span>.tagConfig.pageLayout = &#123;</span><br><span class="line">	top: <span class="number">0</span>,</span><br><span class="line">	left: <span class="number">0</span>,</span><br><span class="line">	width: <span class="number">100</span>,</span><br><span class="line">	height: <span class="number">100</span>,</span><br><span class="line">	random: !<span class="number">1</span>,</span><br><span class="line">	cols: [&#123;</span><br><span class="line">		width: <span class="number">30</span>,</span><br><span class="line">		rows: [&#123;</span><br><span class="line">			height: <span class="number">40</span>,</span><br><span class="line">			cols: [&#123;</span><br><span class="line">				width: <span class="number">30</span>,</span><br><span class="line">				rows:[&#123;</span><br><span class="line">					height:<span class="number">100</span></span><br><span class="line">				&#125;]</span><br><span class="line">			&#125;,&#123;</span><br><span class="line">				width: <span class="number">70</span>,</span><br><span class="line">				rows:[&#123;</span><br><span class="line">					height:<span class="number">100</span></span><br><span class="line">				&#125;]</span><br><span class="line">			&#125;]</span><br><span class="line">		&#125;,</span><br><span class="line">		&#123;</span><br><span class="line">			height: <span class="number">30</span></span><br><span class="line">		&#125;,&#123;</span><br><span class="line">			height: <span class="number">30</span></span><br><span class="line">		&#125;]</span><br><span class="line">	&#125;,&#123;</span><br><span class="line">		width: <span class="number">70</span>,</span><br><span class="line">		rows:[&#123;</span><br><span class="line">			height:<span class="number">100</span></span><br><span class="line">		&#125;]</span><br><span class="line">	&#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>##<strong>二.递归调用切割函数</strong><br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_getGrids</span>(<span class="params">tag</span>) </span>&#123;</span><br><span class="line">	<span class="comment">/*domArr是拥有left,top,width,height,bg等属性的所有dom数组，_getGrids的最终目的就是生成这个数组*/</span></span><br><span class="line">	<span class="keyword">var</span> domArr = [],</span><br><span class="line">	_cutGrid(tag.pageLayout,</span><br><span class="line">		<span class="function"><span class="keyword">function</span>(<span class="params">tag</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">if</span> (tag.rows || tag.cols) &#123;</span><br><span class="line">				<span class="comment">/*假如子级存在rows或者cols，则递归切割*/</span></span><br><span class="line">				_cutGrid(tag, <span class="built_in">arguments</span>.callee);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="comment">/*子级不存在rows或者cols，不再进行切割，构造domArr*/</span></span><br><span class="line">				…</span><br><span class="line">				domArr.push(xxx)</span><br><span class="line">				…</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	);</span><br><span class="line">	<span class="keyword">return</span> domArr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>##<strong>三.切割函数</strong></p>
<p>切割函数挺有意思的，下次想再用一篇文章来详细写一下，在这里仅贴出参考的源码。<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*对象复制函数*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_shadowClone</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> t = &#123;&#125;;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">var</span> n <span class="keyword">in</span> e) e.hasOwnProperty(n) &amp;&amp; (t[n] = e[n]);</span><br><span class="line">	<span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*判断子块随机布局与否*/</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">ranOrNot</span>(<span class="params">e, t</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">var</span> n = [];</span><br><span class="line">		<span class="keyword">typeof</span> t == <span class="string">"undefined"</span> &amp;&amp; (t = e, e = <span class="number">0</span>);</span><br><span class="line">		<span class="keyword">for</span> (; e &lt; t; e++) n.push(e);</span><br><span class="line">		<span class="keyword">return</span> n</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/*随机布局*/</span></span><br><span class="line">	<span class="built_in">Array</span>.prototype.randomEach = <span class="function"><span class="keyword">function</span>(<span class="params">t</span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="number">3</span>);</span><br><span class="line">		<span class="keyword">if</span> (<span class="keyword">typeof</span> t != <span class="string">"function"</span>) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>;</span><br><span class="line">		<span class="keyword">var</span> n = <span class="keyword">this</span>.length,</span><br><span class="line">		r = ranOrNot(n);</span><br><span class="line">		<span class="keyword">while</span> (n) &#123;</span><br><span class="line">			<span class="keyword">var</span> i = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * n--);</span><br><span class="line">			<span class="keyword">if</span> (t(<span class="keyword">this</span>[r[i]]) === !<span class="number">1</span>) <span class="keyword">break</span>;</span><br><span class="line">			r[i] = r[n]</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="comment">/*常规布局*/</span></span><br><span class="line">	<span class="built_in">Array</span>.prototype.forEach || (<span class="built_in">Array</span>.prototype.forEach = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">var</span> t = <span class="keyword">this</span>.length;</span><br><span class="line">		<span class="keyword">if</span> (<span class="keyword">typeof</span> e != <span class="string">"function"</span>) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>;</span><br><span class="line">		<span class="keyword">var</span> n = <span class="built_in">arguments</span>[<span class="number">1</span>];</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">var</span> r = <span class="number">0</span>; r &lt; t; r++) r <span class="keyword">in</span> <span class="keyword">this</span> &amp;&amp; e.call(n, <span class="keyword">this</span>[r], r, <span class="keyword">this</span>)</span><br><span class="line">	&#125;)</span><br><span class="line">&#125; )();</span><br><span class="line"></span><br><span class="line"><span class="comment">/*切割函数*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_cutGrid</span>(<span class="params">tag, funcJudge</span>) </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">function</span> <span class="title">h</span>(<span class="params">cutLength</span>) </span>&#123;</span><br><span class="line">			<span class="comment">/*复制子块对象并计算出子块top,left*/</span></span><br><span class="line">			<span class="keyword">var</span> u, a = _shadowClone(cutLength);</span><br><span class="line">			c++,</span><br><span class="line">			u = c === l ? tag[cutType2.measure] - s: <span class="built_in">Math</span>.floor(cutLength[cutType2.measure] * tag[cutType2.measure] / <span class="number">100</span>),</span><br><span class="line">			a[cutType1.offset] = i + tag[cutType1.offset],</span><br><span class="line">			a[cutType2.offset] = s + tag[cutType2.offset],</span><br><span class="line">			a[cutType1.measure] = f,</span><br><span class="line">			a[cutType2.measure] = u,</span><br><span class="line">			a.colorPattern = tag.colorPattern,</span><br><span class="line">			<span class="comment">/*判断小块是否还需要分割*/</span></span><br><span class="line">			funcJudge(a),</span><br><span class="line">			s += u</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">var</span> f, l = a[cutType2.name].length,</span><br><span class="line">		c = <span class="number">0</span>;</span><br><span class="line">		u++,</span><br><span class="line">		f = u === cutLength ? tag[cutType1.measure] - i: <span class="built_in">Math</span>.floor(a[cutType1.measure] * tag[cutType1.measure] / <span class="number">100</span>),</span><br><span class="line">		a.random === !<span class="number">1</span> ? a[cutType2.name].forEach(h) : a[cutType2.name].randomEach(h),</span><br><span class="line">		s = <span class="number">0</span>,</span><br><span class="line">		i += f</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/*根据大块是否有rows属性，定义两种切割方式*/</span></span><br><span class="line">	<span class="keyword">var</span> cutType1, cutType2;</span><br><span class="line">	tag.rows ? (cutType1 = &#123;</span><br><span class="line">		name: <span class="string">"rows"</span>,</span><br><span class="line">		measure: <span class="string">"height"</span>,</span><br><span class="line">		offset: <span class="string">"top"</span></span><br><span class="line">	&#125;,</span><br><span class="line">	cutType2 = &#123;</span><br><span class="line">		name: <span class="string">"cols"</span>,</span><br><span class="line">		measure: <span class="string">"width"</span>,</span><br><span class="line">		offset: <span class="string">"left"</span></span><br><span class="line">	&#125;) : (cutType1 = &#123;</span><br><span class="line">		name: <span class="string">"cols"</span>,</span><br><span class="line">		measure: <span class="string">"width"</span>,</span><br><span class="line">		offset: <span class="string">"left"</span></span><br><span class="line">	&#125;,</span><br><span class="line">	cutType2 = &#123;</span><br><span class="line">		name: <span class="string">"rows"</span>,</span><br><span class="line">		measure: <span class="string">"height"</span>,</span><br><span class="line">		offset: <span class="string">"top"</span></span><br><span class="line">	&#125;);</span><br><span class="line">	<span class="keyword">var</span> i = <span class="number">0</span>,</span><br><span class="line">	s = <span class="number">0</span>,</span><br><span class="line">	cutLength = tag[cutType1.name].length,</span><br><span class="line">	u = <span class="number">0</span>;</span><br><span class="line">	<span class="comment">/*是否随机布局*/</span></span><br><span class="line">	tag.random === !<span class="number">1</span> ? tag[cutType1.name].forEach(a) : tag[cutType1.name].randomEach(a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>##<strong>四.最后</strong><br>完成到这一步，我已不记得声明对象时出了多少次错误。各种尖括号，方括号，逗号和分号翩翩起舞时，你一定跟我一样很想念coffee的语法糖…</p>

                <hr>
                

                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2013/08/11/brief-oauth/" data-toggle="tooltip" data-placement="top"
                           title="谈谈OAuth1,OAuth2异同">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/2013/04/30/my-fairy-tale1/" data-toggle="tooltip" data-placement="top"
                           title="失眠故事一【裁缝的工具】【天气精灵】【匠人与万能胶水】">Next Post &rarr;</a>
                    </li>
                    
                </ul>

                

                


                <!--加入新的评论系统-->
                
                <!-- 来必力City版安装代码 -->
                <div id="lv-container" data-id="city" data-uid="MTAyMC8zNjcxNC8xMzI0OQ==">
                    <script type="text/javascript">
                        (function(d, s) {
                            var j, e = d.getElementsByTagName(s)[0];

                            if (typeof LivereTower === 'function') { return; }

                            j = d.createElement(s);
                            j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
                            j.async = true;

                            e.parentNode.insertBefore(j, e);
                        })(document, 'script');
                    </script>
                    <noscript> 为正常使用来必力评论功能请激活JavaScript</noscript>
                </div>
                <!-- City版安装代码已完成 -->
                
            </div>

            <div class="hidden-xs col-sm-3 toc-col">
                <div class="toc-wrap">
                    
                </div>
            </div>
        </div>

        <div class="row">
            <!-- Sidebar Container -->

            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <!-- no hr -->
                    <h5 class="text-center">
                        <a href="/tags/">FEATURED TAGS</a>
                    </h5>
                    <div class="tags">
                        
                        <a class="tag" href="/tags/#js"
                           title="js">js</a>
                        
                    </div>
                </section>
                

                <!-- Friends Blog -->
                
                <div style="margin-top: 20px;">
                    <h5 class="text-center">FRIENDS</h5>
                    <ul class="list-inline text-center">
                        
                        <li><a href="http://www.hulichao.top">Hu</a></li>
                        
                        <li><a href="http://www.gubaidan.top">Gu</a></li>
                        
                    </ul>
                </div>
                
            </div>
        </div>

    </div>
</article>







<!-- Footer -->
<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 text-center">
                <br>
                <ul class="list-inline text-center">
                
                
                    <li>
                        <a target="_blank" href="https://twitter.com/gubaidan">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                
                
                    <li>
                        <a target="_blank" href="https://www.zhihu.com/people/gubaidan">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa  fa-stack-1x fa-inverse">知</i>
                            </span>
                        </a>
                    </li>
                

                
                    <li>
                        <a target="_blank" href="http://weibo.com/gubaidan">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-weibo fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                
                    <li>
                        <a target="_blank" href="https://www.facebook.com/gubaidan">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                
                    <li>
                        <a target="_blank"  href="https://github.com/gubaidan">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                
                    <li>
                        <a target="_blank"  href="https://www.linkedin.com/in/gubaidan">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; Gubaidan 2018
                    <br>
                    <span id="busuanzi_container_site_pv" style="font-size: 12px;">PV: <span id="busuanzi_value_site_pv"></span> Times</span>
                    <br>
                    Theme by <a href="https://haojen.github.io/">Gubaidan</a>
                </p>

            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js"></script>

<!-- Custom Theme JavaScript -->
<script src="/js/blog.js"></script>

<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("http://www.gubaidan.top/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("//cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>

<!-- Google Analytics -->



<!-- Baidu Tongji -->


<!-- swiftype -->
<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','','2.0.0');
</script>

<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<!--wechat title img-->
<img class="wechat-title-img" src="http://p9n2j0ewi.bkt.clouddn.com/img/log.JPG">
</body>

</html>
